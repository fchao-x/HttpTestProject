<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>{% block title %}Proxy Test{% endblock %}</title>
	<script src = "/jQuery/jquery-3.3.1.min.js"></script>
	<style>
		* {
			margin:0;
			padding:0;
			border:0;
		}

		/*

		body {
			font-family: Arial, '微软雅黑';
			font-size: 20px;
		}

		

		.top {
			background-color: green;
			font-size: 25px;
		}
		*/

		#menu {
			position: absolute;
			left: 0%;
			top: 0%;

			width: 20%;
			height: 100%;

			/*

			background-color: lightgrey;
			
			*/

			padding: 30px;

			

		}
		#request_items {
			position: absolute;
			left: 20%;
			top: 0%;

			width: 40%;
			height: 100%;

			background-color: white;

			padding: 30px;
			
		}
		#request_client {
			position: absolute;
			left: 60%;
			top: 0%;

			width: 40%;
			height: 100%;

			/*
			background-color: lightgrey;
			*/

			padding: 30px;
			
		}

		/*
		#request_server {
			position: absolute;
			left: 40%;
			top: 50%;

			width: 30%;
			height: 50%;

			background-color: white;

			padding: 5px;
		
		}
		#response_server {
			position: absolute;
			left: 70%;
			top: 50%;
			
			width: 30%;
			height: 100%;

			background-color: white;

			padding: 5px;
			
		}

		#response_client {
			position: absolute;
			left: 70%;
			top: 0%;

			width: 30%;
			height: 100%;

			background-color: white;

			padding: 5px;
			
		}
		*/

	</style>
</head>
<body>

	<div id="menu">

		<h1 class="top">Menu</h1>

		{% for key, value in menu.items %}
			<h3>{{ key }}</h3>
			<ul>
			{% for v in value %}
				<li><a href={{ v }}.html class="menu_item_list">{{ v }}</a></li>
			{% endfor %}
			</ul>
		{% endfor %}
		
	</div>

	<div id="request_items">

		<h1 class="top">{% block test_items_title %}Introduce{% endblock %}</h1>
		{% block test_items_context %}
		<p>本 Web Application 用于 HTTP Proxy 测试。</p><br>
		
		<p>已实现部分</p>
		<p>	返回服务器收到的 HTTP 请求</p><br>

		<p>下一步实现</p>
		<p>	HTTP POST 请求</p><br>

		<p>HTTP 相关 RFC</p>

		{% endblock %}

	</div>

	<div id="request_client">

		<h1 class="top">Request Info</h1>

		<h3>TCP Connection</h3>
			<table border="1">
				<tr>
					<td>REMOTE_ADDR</td>
					<td>{{ request.REMOTE_ADDR }}</td>
				</tr>
				<tr>
					<td>SERVER_PORT</td>
					<td>{{ request.SERVER_PORT }}</td>
				</tr>
			</table>

		<h3>Request Line</h3>
			<table border="1">
				<tr>
					<td>REQUEST_METHOD</td>
					<td>{{ request.REQUEST_METHOD }}</td>
				</tr>
				<tr>
					<td>PATH_INFO</td>
					<td>{{ request.PATH_INFO }}</td>
				</tr>
				<tr>
					<td>QUERY_STRING</td>
					<td>{{ request.QUERY_STRING }}</td>
				</tr>
				<tr>
					<td>SERVER_PROTOCOL</td>
					<td>{{ request.SERVER_PROTOCOL }}</td>
				</tr>
			</table>

		<h3>Request Headers</h3>
			<table border="1">
				<tr>
					<td>CONTENT_LENGTH</td>
					<td>{{ request.CONTENT_LENGTH }}</td>
				</tr>
				<tr>
					<td>CONTENT_TYPE</td>
					<td>{{ request.CONTENT_TYPE }}</td>
				</tr>
				{% for key, value in request.items %}
				{% if key.0 == 'H' %}
					<tr>
						<td>{{ key }}</td>
						<td>{{ value }}</td>
					</tr>
				{% endif %}
				{% endfor %}

			</table>

	</div>
	<!---
	<div id="request_server">
		<h1 class="top">Request Recieved by Server</h1>
	</div>

	<div id="response_client">
		<h1 class="top">Response Recieved by Client</h1>
	</div>

	<div id="response_server">
		<h1 class="top">Response Sent by Server</h1>
	</div>
	-->
	
	
</body>
</html>